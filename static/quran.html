<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran App</title>
    <style>
      body {
        font-family: 'Segoe UI', Arial, sans-serif;
        padding: 0;
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 {
        margin-top: 40px;
        font-size: 2.5rem;
        text-shadow: 2px 2px 8px rgba(30,60,114,0.2);
        letter-spacing: 2px;
      }
      .card {
        background: rgba(0,0,0,0.4);
        border-radius: 18px;
        box-shadow: 0 8px 32px rgba(30,60,114,0.18);
        padding: 32px 28px 24px 28px;
        margin: 32px 0;
        max-width: 600px;
        width: 100%;
        animation: fadeIn 1s ease;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.97) translateY(-20px); }
        to { opacity: 1; transform: scale(1) translateY(0); }
      }
      #surah-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      #surah-list li {
        padding: 14px 18px;
        border-bottom: 1px solid #2a5298;
        cursor: pointer;
        font-size: 1.1rem;
        border-radius: 10px;
        transition: background 0.2s, color 0.2s;
        margin-bottom: 6px;
        background: rgba(255,255,255,0.07);
      }
      #surah-list li:hover {
        background: linear-gradient(45deg, #ff7e5f, #feb47b);
        color: #fff;
      }
      .ayah {
        border-bottom: 1px solid #2a5298;
        padding: 12px 0;
        line-height: 1.8;
        font-size: 1.15rem;
        color: #ffd700;
        background: rgba(255,255,255,0.04);
        border-radius: 8px;
        margin-bottom: 8px;
      }
      button {
        padding: 12px 32px;
        font-size: 1.1rem;
        font-weight: bold;
        border: none;
        border-radius: 50px;
        background: linear-gradient(45deg, #ff7e5f, #feb47b);
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 16px rgba(30,60,114,0.08);
        margin-bottom: 18px;
        margin-top: 8px;
        transition: background 0.3s, transform 0.2s;
      }
      button:hover {
        background: linear-gradient(45deg, #feb47b, #ff7e5f);
        transform: translateY(-2px) scale(1.03);
      }
      #surah-name {
        font-size: 1.5rem;
        color: #ffd700;
        margin-bottom: 18px;
        margin-top: 0;
        text-shadow: 1px 1px 4px #222;
      }
      #ayahs-container {
        margin-top: 10px;
      }
      @media (max-width: 700px) {
        .card {
          padding: 18px 8px 12px 8px;
        }
        h1 {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <h1>Quran App</h1>
    <div id="surah-list-container" class="card">
      <h2 style="color:#ffd700;margin-top:0;">Surahs</h2>
      <ul id="surah-list">
        <!-- Surahs will be loaded here by JavaScript -->
      </ul>
    </div>
    <div id="surah-detail-container" class="card" style="display: none;">
      <button onclick="goBack()">Back to Surah List</button>
      <h2 id="surah-name"></h2>
      <div id="ayahs-container">
        <!-- Ayahs will be loaded here by JavaScript -->
      </div>
    </div>
    <script>
    const surahList = document.getElementById('surah-list');
    const surahListContainer = document.getElementById('surah-list-container');
    const surahDetailContainer = document.getElementById('surah-detail-container');
    const surahNameElem = document.getElementById('surah-name');
    const ayahsContainer = document.getElementById('ayahs-container');

    async function fetchAndDisplaySurahs() {
      try {
        const response = await fetch('/api/surahs');
        const data = await response.json();
        const surahs = data.data;

        surahs.forEach(surah => {
          const li = document.createElement('li');
          li.textContent = `${surah.number}. ${surah.englishName} (${surah.name})`;
          li.onclick = () => fetchAndDisplaySurahDetails(surah.number);
          surahList.appendChild(li);
        });
      } catch (error) {
        console.error("Error fetching surah list:", error);
      }
    }

    async function fetchAndDisplaySurahDetails(surahNumber) {
      try {
        const response = await fetch(`/api/surah/${surahNumber}`);
        const data = await response.json();
        const surah = data.data;

        surahNameElem.textContent = `${surah.number}. ${surah.englishName}`;
        ayahsContainer.innerHTML = '';

        surah.ayahs.forEach(ayah => {
          const div = document.createElement('div');
          div.className = 'ayah';
          div.innerHTML = `<strong>${ayah.numberInSurah}</strong>. ${ayah.text}`;
          ayahsContainer.appendChild(div);
        });

        surahListContainer.style.display = 'none';
        surahDetailContainer.style.display = 'block';
      } catch (error) {
        console.error("Error fetching surah details:", error);
      }
    }

    function goBack() {
      surahListContainer.style.display = 'block';
      surahDetailContainer.style.display = 'none';
    }

    fetchAndDisplaySurahs();
    </script>
  </body>
</html>
